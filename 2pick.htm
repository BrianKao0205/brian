<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¯èªæ¨‚å£‡æ­Œæ‰‹æŠ•ç¥¨</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #f8f9fa;
        }

        .container {
            margin-top: 50px;
        }

        .choice {
            display: inline-block;
            padding: 20px 40px;
            margin: 20px;
            font-size: 24px;
            cursor: pointer;
            border: 2px solid #333;
            border-radius: 10px;
            transition: 0.3s;
        }

        .choice:hover {
            background-color: #ddd;
        }

        .searchbox {
            padding: 10px 60px;
            text-align: left;
            border: 2px solid #333;
            font-size: 15px;
        }
        
        .inputbutton {
            padding: 10px 20px;
        }

        .hidden {
            display: none;
        }

        .rank-row {
            display: flex;
            justify-content: center;
            gap: 40px;
            margin-bottom: 20px;
        }

        .rank-item {
            text-align: center;
            font-size: 28px;
        }

        .rank-item img {
            width: 150px;
            height: 150px;
            border-radius: 10px;
            border: 2px solid #333;
        }

        #final-results {
            display: none;
            flex-direction: column;
            align-items: center;
            font-size: 24px;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>è¯èªæ¨‚å£‡æ­Œæ‰‹æŠ•ç¥¨</h1>
        <div id="setup" class="hidden">
            <label for="searchbox">è«‹è¼¸å…¥åƒèˆ‡æŠ•ç¥¨çš„æ­Œæ‰‹æ•¸ï¼š</label>
            <input id="searchbox" class="searchbox" type="number" min="4" max="220" placeholder="è«‹è¼¸å…¥æ•¸å­—">
            <button id="inputbutton" onclick="startvoting()">é–‹å§‹æŠ•ç¥¨</button>
        </div>
        <div id="voting">
            <p id="round-info">ç¬¬ 1 è¼ª</p>
            <p id="text">é¸æ“‡ä½ æœ€å–œæ­¡çš„æ­Œæ‰‹ï¼</p>
            <div id="question">
                <div class="choice" onclick="choose(0)">
                    <img id="img1" src="" alt="æ­Œæ‰‹åœ–ç‰‡" width="150">
                    <p id="name1">ğŸ¤ é¸é … A</p>
                </div>
                <div class="choice" onclick="choose(1)">
                    <img id="img2" src="" alt="æ­Œæ‰‹åœ–ç‰‡" width="150">
                    <p id="name2">ğŸ¤ é¸é … B</p>
                </div>
            </div>
            <p id="result" class="hidden"></p>
            <button id="next" class="hidden" onclick="nextRound()">ä¸‹ä¸€è¼ª</button>
        </div>
        <div id="final-results-4" class="hidden">
            <h2>æœ€çµ‚æ’å</h2>
            <div class="rank-row">
                <div class="rank-item">ğŸ† å† è»: <br><img id="1-img" src="" alt="å† è»åœ–ç‰‡"><br><span
                        id="1"></span></div>
                <div class="rank-item">ğŸ¥ˆ äºè»: <br><img id="2-img" src="" alt="äºè»åœ–ç‰‡"><br><span
                        id="2"></span></div>
                <div class="rank-item">ğŸ¥‰ å­£è»: <br><img id="3-img" src="" alt="å­£è»åœ–ç‰‡"><br><span
                        id="3"></span></div>
                <div class="rank-item">ğŸ… æ®¿è»: <br><img id="4-img" src="" alt="æ®¿è»åœ–ç‰‡"><br><span
                        id="4"></span></div>
            </div>
        </div>
        <div id="final-results-8" class="hidden">
            <div class="rank-row">
                <div class="rank-item">ç¬¬ 5 å: <br><img id="5-img" src="" alt="ç¬¬5ååœ–ç‰‡"><br><span
                        id="5"></span></div>
                <div class="rank-item">ç¬¬ 6 å: <br><img id="6-img" src="" alt="ç¬¬6ååœ–ç‰‡"><br><span
                        id="6"></span></div>
                <div class="rank-item">ç¬¬ 7 å: <br><img id="7-img" src="" alt="ç¬¬7ååœ–ç‰‡"><br><span
                        id="7"></span></div>
                <div class="rank-item">ç¬¬ 8 å: <br><img id="8-img" src="" alt="ç¬¬8ååœ–ç‰‡"><br><span
                        id="8"></span></div>
            </div>
        </div>
        <div id="final-results-16" class="hidden">
            <div class="rank-row">
                <div class="rank-item">ç¬¬ 9 å: <br><img id="9-img" src="" alt="ç¬¬9ååœ–ç‰‡"><br><span
                        id="9"></span></div>
                <div class="rank-item">ç¬¬ 10 å: <br><img id="10-img" src="" alt="ç¬¬10ååœ–ç‰‡"><br><span
                        id="10"></span></div>
                <div class="rank-item">ç¬¬ 11 å: <br><img id="11-img" src="" alt="ç¬¬11ååœ–ç‰‡"><br><span
                        id="11"></span></div>
                <div class="rank-item">ç¬¬ 12 å: <br><img id="12-img" src="" alt="ç¬¬12ååœ–ç‰‡"><br><span
                        id="12"></span></div>
            </div>
            <div class="rank-row">
                <div class="rank-item">ç¬¬ 13 å: <br><img id="13-img" src="" alt="ç¬¬13ååœ–ç‰‡"><br><span
                        id="13"></span></div>
                <div class="rank-item">ç¬¬ 14 å: <br><img id="14-img" src="" alt="ç¬¬14ååœ–ç‰‡"><br><span
                        id="14"></span></div>
                <div class="rank-item">ç¬¬ 15 å: <br><img id="15-img" src="" alt="ç¬¬15ååœ–ç‰‡"><br><span
                        id="15"></span></div>
                <div class="rank-item">ç¬¬ 16 å: <br><img id="16-img" src="" alt="ç¬¬16ååœ–ç‰‡"><br><span
                        id="16"></span></div>
            </div>
        </div>
        <div id="final-results-32" class="hidden">
            <div class="rank-row">
                <div class="rank-item">ç¬¬ 17 å: <br><img id="17-img" src="" alt="ç¬¬17ååœ–ç‰‡"><br><span
                        id="17"></span></div>
                <div class="rank-item">ç¬¬ 18 å: <br><img id="18-img" src="" alt="ç¬¬18ååœ–ç‰‡"><br><span
                        id="18"></span></div>
                <div class="rank-item">ç¬¬ 19 å: <br><img id="19-img" src="" alt="ç¬¬19ååœ–ç‰‡"><br><span
                        id="19"></span></div>
                <div class="rank-item">ç¬¬ 20 å: <br><img id="20-img" src="" alt="ç¬¬20ååœ–ç‰‡"><br><span
                        id="20"></span></div>
            </div>
            <div class="rank-row">
                <div class="rank-item">ç¬¬ 21 å: <br><img id="21-img" src="" alt="ç¬¬21ååœ–ç‰‡"><br><span
                        id="21"></span></div>
                <div class="rank-item">ç¬¬ 22 å: <br><img id="22-img" src="" alt="ç¬¬22ååœ–ç‰‡"><br><span
                        id="22"></span></div>
                <div class="rank-item">ç¬¬ 23 å: <br><img id="23-img" src="" alt="ç¬¬23ååœ–ç‰‡"><br><span
                        id="23"></span></div>
                <div class="rank-item">ç¬¬ 24 å: <br><img id="24-img" src="" alt="ç¬¬24ååœ–ç‰‡"><br><span
                        id="24"></span></div>
            </div>
            <div class="rank-row">
                <div class="rank-item">ç¬¬ 25 å: <br><img id="25-img" src="" alt="ç¬¬25ååœ–ç‰‡"><br><span
                        id="25"></span></div>
                <div class="rank-item">ç¬¬ 26 å: <br><img id="26-img" src="" alt="ç¬¬26ååœ–ç‰‡"><br><span
                        id="26"></span></div>
                <div class="rank-item">ç¬¬ 27 å: <br><img id="27-img" src="" alt="ç¬¬27ååœ–ç‰‡"><br><span
                        id="27"></span></div>
                <div class="rank-item">ç¬¬ 28 å: <br><img id="28-img" src="" alt="ç¬¬28ååœ–ç‰‡"><br><span
                        id="28"></span></div>
            </div>
            <div class="rank-row">
                <div class="rank-item">ç¬¬ 29 å: <br><img id="29-img" src="" alt="ç¬¬29ååœ–ç‰‡"><br><span
                        id="29"></span></div>
                <div class="rank-item">ç¬¬ 30 å: <br><img id="30-img" src="" alt="ç¬¬30ååœ–ç‰‡"><br><span
                        id="30"></span></div>
                <div class="rank-item">ç¬¬ 31 å: <br><img id="31-img" src="" alt="ç¬¬31ååœ–ç‰‡"><br><span
                        id="31"></span></div>
                <div class="rank-item">ç¬¬ 32 å: <br><img id="32-img" src="" alt="ç¬¬32ååœ–ç‰‡"><br><span
                        id="32"></span></div>
            </div>
        </div>
        <div id="final-results-64" class="hidden">
            <div class="rank-row">
                <div class="rank-item">ç¬¬ 33 å: <br><img id="33-img" src="" alt="ç¬¬33ååœ–ç‰‡"><br><span
                        id="33"></span></div>
                <div class="rank-item">ç¬¬ 34 å: <br><img id="34-img" src="" alt="ç¬¬34ååœ–ç‰‡"><br><span
                        id="34"></span></div>
                <div class="rank-item">ç¬¬ 35 å: <br><img id="35-img" src="" alt="ç¬¬35ååœ–ç‰‡"><br><span
                        id="35"></span></div>
                <div class="rank-item">ç¬¬ 36 å: <br><img id="36-img" src="" alt="ç¬¬36ååœ–ç‰‡"><br><span
                        id="36"></span></div>
            </div>
            <div class="rank-row">
                <div class="rank-item">ç¬¬ 37 å: <br><img id="37-img" src="" alt="ç¬¬37ååœ–ç‰‡"><br><span
                        id="37"></span></div>
                <div class="rank-item">ç¬¬ 38 å: <br><img id="38-img" src="" alt="ç¬¬38ååœ–ç‰‡"><br><span
                        id="38"></span></div>
                <div class="rank-item">ç¬¬ 39 å: <br><img id="39-img" src="" alt="ç¬¬39ååœ–ç‰‡"><br><span
                        id="39"></span></div>
                <div class="rank-item">ç¬¬ 40 å: <br><img id="40-img" src="" alt="ç¬¬40ååœ–ç‰‡"><br><span
                        id="40"></span></div>
            </div>
            <div class="rank-row">
                <div class="rank-item">ç¬¬ 41 å: <br><img id="41-img" src="" alt="ç¬¬41ååœ–ç‰‡"><br><span
                        id="41"></span></div>
                <div class="rank-item">ç¬¬ 42 å: <br><img id="42-img" src="" alt="ç¬¬42ååœ–ç‰‡"><br><span
                        id="42"></span></div>
                <div class="rank-item">ç¬¬ 43 å: <br><img id="43-img" src="" alt="ç¬¬43ååœ–ç‰‡"><br><span
                        id="43"></span></div>
                <div class="rank-item">ç¬¬ 44 å: <br><img id="44-img" src="" alt="ç¬¬44ååœ–ç‰‡"><br><span
                        id="44"></span></div>
            </div>
            <div class="rank-row">
                <div class="rank-item">ç¬¬ 45 å: <br><img id="45-img" src="" alt="ç¬¬45ååœ–ç‰‡"><br><span
                        id="45"></span></div>
                <div class="rank-item">ç¬¬ 46 å: <br><img id="46-img" src="" alt="ç¬¬46ååœ–ç‰‡"><br><span
                        id="46"></span></div>
                <div class="rank-item">ç¬¬ 47 å: <br><img id="47-img" src="" alt="ç¬¬47ååœ–ç‰‡"><br><span
                        id="47"></span></div>
                <div class="rank-item">ç¬¬ 48 å: <br><img id="48-img" src="" alt="ç¬¬48ååœ–ç‰‡"><br><span
                        id="48"></span></div>
            </div>
            <div class="rank-row">
                <div class="rank-item">ç¬¬ 49 å: <br><img id="49-img" src="" alt="ç¬¬49ååœ–ç‰‡"><br><span
                        id="49"></span></div>
                <div class="rank-item">ç¬¬ 50 å: <br><img id="50-img" src="" alt="ç¬¬50ååœ–ç‰‡"><br><span
                        id="50"></span></div>
                <div class="rank-item">ç¬¬ 51 å: <br><img id="51-img" src="" alt="ç¬¬51ååœ–ç‰‡"><br><span
                        id="51"></span></div>
                <div class="rank-item">ç¬¬ 52 å: <br><img id="52-img" src="" alt="ç¬¬52ååœ–ç‰‡"><br><span
                        id="52"></span></div>
            </div>
            <div class="rank-row">
                <div class="rank-item">ç¬¬ 53 å: <br><img id="53-img" src="" alt="ç¬¬53ååœ–ç‰‡"><br><span
                        id="53"></span></div>
                <div class="rank-item">ç¬¬ 54 å: <br><img id="54-img" src="" alt="ç¬¬54ååœ–ç‰‡"><br><span
                        id="54"></span></div>
                <div class="rank-item">ç¬¬ 55 å: <br><img id="55-img" src="" alt="ç¬¬55ååœ–ç‰‡"><br><span
                        id="55"></span></div>
                <div class="rank-item">ç¬¬ 56 å: <br><img id="56-img" src="" alt="ç¬¬56ååœ–ç‰‡"><br><span
                        id="56"></span></div>
            </div>
            <div class="rank-row">
                <div class="rank-item">ç¬¬ 57 å: <br><img id="57-img" src="" alt="ç¬¬57ååœ–ç‰‡"><br><span
                        id="57"></span></div>
                <div class="rank-item">ç¬¬ 58 å: <br><img id="58-img" src="" alt="ç¬¬58ååœ–ç‰‡"><br><span
                        id="58"></span></div>
                <div class="rank-item">ç¬¬ 59 å: <br><img id="59-img" src="" alt="ç¬¬59ååœ–ç‰‡"><br><span
                        id="59"></span></div>
                <div class="rank-item">ç¬¬ 50 å: <br><img id="60-img" src="" alt="ç¬¬60ååœ–ç‰‡"><br><span
                        id="60"></span></div>
            </div>
            <div class="rank-row">
                <div class="rank-item">ç¬¬ 61 å: <br><img id="61-img" src="" alt="ç¬¬61ååœ–ç‰‡"><br><span
                        id="61"></span></div>
                <div class="rank-item">ç¬¬ 62 å: <br><img id="62-img" src="" alt="ç¬¬62ååœ–ç‰‡"><br><span
                        id="62"></span></div>
                <div class="rank-item">ç¬¬ 63 å: <br><img id="63-img" src="" alt="ç¬¬63ååœ–ç‰‡"><br><span
                        id="63"></span></div>
                <div class="rank-item">ç¬¬ 64 å: <br><img id="64-img" src="" alt="ç¬¬64ååœ–ç‰‡"><br><span
                        id="64"></span></div>
            </div>
        </div>
    </div>

    <script>
        let singers = ["å‘¨æ°å€«", "æ—ä¿Šå‚‘", "ç‹åŠ›å®", "é„§ç´«æ£‹", "å¼µæƒ å¦¹", "å­«ç‡•å§¿", "é™³å¥•è¿…", "ææ¦®æµ©", "å¼µå­¸å‹", "åŠ‰å¾·è¯",
            "è”¡ä¾æ—", "æ¥Šä¸ç³", "è–›ä¹‹è¬™", "é™¶å–†", "ç‹è²", "ç‹å¿ƒå‡Œ", "é™³ç¶ºè²", "ç›§å»£ä»²", "å…‰è‰¯", "å“å† ",
            "èŒƒç‘‹çª", "æ¥Šå®—ç·¯", "è”¡å¥é›…", "è˜‡æ‰“ç¶ ", "äº”æœˆå¤©", "æå…‹å‹¤", "æ¢éœèŒ¹", "æ–¹å¤§åŒ", "å¼µéŸ¶æ¶µ", "æˆ´ä½©å¦®",
            "éŸ‹ç¦®å®‰", "å³é’å³°", "ç‹å‚‘", "å‹•åŠ›ç«è»Š", "å…«ä¸‰å¤­", "å®‹å¿µå®‡", "å°è™éšŠ", "æ–¹çƒ±å½¬", "æ¯›ä¸æ˜“", "å…„å¼Ÿæœ¬è‰²", "ç”°é¦¥ç”„",
            "ç™½å®‰", "ä»»è³¢é½Š", "ä¼ä½°", "ä¼æ€å‡±", "å®‰å¿ƒäº", "æ±Ÿè•™", "è‰¾æ€¡è‰¯", "è‰¾è–‡", "å³å…‹ç¾¤", "å³å“æº", "å³å®—æ†²",
            "å‘Šäº”äºº", "æå‹å»·", "æç–å“²", "æä½³è–‡", "æå®—ç››", "æçŸ", "æè–å‚‘", "æœå¾·å‰", "æ±ªå³°", "æ±ªè˜‡ç€§", "ç–å£¹å£¹",
            "è¾›æ›‰çª", "é‚£è‹±", "å“æ–‡è±", "å“ç¾©å³°", "å‘¨æ¹¯è±ª", "å‘¨è¯å¥", "é˜¿æœ", "A-Lin", "å‘¨å‚³é›„", "å‘¨èˆˆå“²", "å‘¨è•™",
            "æ€•èƒ–åœ˜", "æ—å¿—ç‚«", "æ—èŠ¯å„€", "æ—å®¥å˜‰", "æ—æ†¶è“®", "é‚°æ­£å®µ", "é‚±é‹’æ¾¤", "é˜¿æ¡‘", "ä¿¡æ¨‚åœ˜", "å—æ‹³åª½åª½", "ç¾ç§€é›†åœ˜",
            "å¥½æ¨‚åœ˜", "èƒ¡å½¥æ–Œ", "èŒƒé€¸è‡£", "èŒ„å­è›‹", "éƒå¯å”¯", "é£›å…’æ¨‚åœ˜", "é£›è¼ªæµ·", "å€ªå®‰æ±", "å­«ç››å¸Œ", "ä¸å™¹", "å®¶å®¶",
            "å®¹ç¥–å…’", "å¾ä½³ç‘©", "å¾è‹¥ç‘„", "ç¥æœ¨èˆ‡ç³", "ç¿ç«‹å‹", "è‰æ±æ²’æœ‰æ´¾å°", "é€ƒè·‘è¨ˆåŠƒ", "é«˜çˆ¾å®£", "å©å³»ç¢©", "åº¾æ¾„æ…¶",
            "å¼µå®‡", "å¼µæ°", "å¼µé›¨ç”Ÿ", "å¼µä¿¡å“²", "å¼µåœ‹æ¦®", "å¼µæ£Ÿæ¨‘", "å¼µç¢§æ™¨", "å¼µéœ‡å¶½", "å¼µéšç©", "æ›¹æ ¼", "æ¢æ–‡éŸ³", "ç†æƒ³æ··è›‹",
            "é™³é›¶ä¹", "ç•¢æ›¸ç›¡", "èŠå¿ƒå¦", "è«æ–‡è”š", "è¨±ç¾éœ", "éƒ­å¯ŒåŸ", "éƒ­éœ", "é™³å°æ˜¥", "é™³èŠ³èª", "é™³æ·‘æ¨º", "é™³å‹¢å®‰",
            "å½­ä½³æ…§", "æ›¾æ²›æ…ˆ", "æ£‰èŠ±ç³–", "è¶™å‚³", "æ¸©åµ", "è²»ç‰æ¸…", "é»ƒä¹™ç²", "é»ƒå°ç¥", "é»ƒæ˜å¿—", "é»ƒå“æº", "é»ƒé´»å‡", "é‡‘çŸå²",
            "æ¥Šä¹ƒæ–‡", "æ»…ç«å™¨", "è¬èŠ³", "ç†Šå¤©å¹³", "é½Šç§¦", "åŠ‰è‹¥è‹±", "æ½˜ç‘‹æŸ", "æ½˜ç¾è¾°", "è•­äºè»’", "è•­æ•¬é¨°", "è•­ç…Œå¥‡",
            "é–»å¥•æ ¼", "æˆ´æ„›ç²", "è¬å’Œå¼¦", "è—åˆæ™‚", "é­å¦‚è±", "ç¾…å¤§ä½‘", "ç¾…å¿—ç¥¥", "è­šè© éºŸ", "åš´çˆµ", "By2", "Energy",
            "F4", "HUSH", "J.Sheon", "MPé­”å¹»åŠ›é‡", "5566", "S.H.E", "Trash", "é»ƒå®£", "å‘¨æ·±", "æ½˜è¶Šé›²", "æœ´æ¨¹", "é™³å¿»ç¥",
            "äºæ–‡æ–‡", "å°ç”·å­©æ¨‚åœ˜", "æ–‡æ…§å¦‚", "æ›²å©‰å©·", "è€ç‹æ¨‚éšŠ", "è€ç ´éº»", "ä¹±å½ˆé˜¿ç¿”", "å³æ±¶èŠ³", "å·«å•Ÿè³¢", "å±å­©", "ç†Šä»”",
            "MC HotDogç†±ç‹—", "æåƒå¨œ", "æå¿ƒæ½”", "æç‰å‰›", "ææ°æ˜", "æèŠ·å©·", "ææµ©ç‘‹", "æ´¾å‰ä¿Š", "æå¥", "æç¿Šå›", "å‘¨æ€æ¶µ",
            "å¨ƒå¨ƒ", "èŒƒæ›‰è±", "å¾æ‡·éˆº", "è‰èœ¢", "å¼µèŠ¸äº¬", "å¼µæ™ºæˆ", "æ¢è© çª", "è«å®°ç¾Š", "é™³é›·", "ç«¥å®‰æ ¼", "é»ƒå¤§ç…’", "æ¥ŠåŸ¹å®‰",
            "é³³å‡°å‚³å¥‡", "ç˜¦å­E.SO", "é„§éº—å›", "è¬éœ†é‹’", "éŸ“ç´…", "éº‹å…ˆç”Ÿ", "hue", "ç‹å˜‰çˆ¾", "Marz23", "å‘‚å»ºå¿ ", "æŒä¿®"];

        let currentRound = [];
        let nextRound = [];
        let selectedSingers = [];
        let roundNumber = 1;
        let semiFinalWinners = [];
        let semiFinalLosers = [];
        let quarterFinal = [];
        let oneEighthFinal = [];
        let oneSixteenthFinal = [];
        let oneThirtySecondFinal = [];
        let finalMatch = [];
        let rankings = [];

        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        shuffle(singers);

        /*function startvoting() {
            var num = parseInt(document.getElementById('searchbox').value.trim(), 10);
            console.log("è½‰æ›å¾Œçš„æ•¸å­—:", num);
            if (isNaN(num) || num < 4 || num > singers.length) {
                alert(`è«‹è¼¸å…¥ 4 åˆ° ${singers.length} ä¹‹é–“çš„æ•¸å­—ï¼`);
                return;
            }
            console.log("é¸æ“‡çš„æ­Œæ‰‹æ•¸é‡:", num);
            selectedSingers = singers.slice(0, num);
            document.getElementById('setup').classList.add('hidden');
            document.getElementById('voting').classList.remove('hidden');
        }*/
        selectedSingers = [...singers];

        function pick(array) {
            let total = array.length;
            let nearestPower = Math.pow(2, Math.floor(Math.log2(total)));
            if (total === nearestPower) {
                currentRound = [...array];
            }
            else {
                let extra = total - nearestPower;
                currentRound = array.slice(0, extra * 2);
                nextRound = array.slice(extra * 2);
            }
        }

        if (roundNumber === 1) {
            pick(selectedSingers);
        }
        let votes = currentRound.length / 2;

        function setImage(imgId, singerName) {
            let imgElement = document.getElementById(imgId);
            imgElement.src = `images/${singerName}.jpg`;
            imgElement.onerror = function () {
                this.src = "images/default.jpg";
            };
        }

        function updateChoices(vote) {
            if (currentRound.length === 1) {
                document.getElementById('question').classList.add('hidden');
                document.getElementById('round-info').classList.add('hidden');
                document.getElementById('text').classList.add('hidden');
                if (selectedSingers.length >= 4) {
                    document.getElementById('final-results-4').style.display = 'block';
                }
                if (selectedSingers.length >= 8) {
                    document.getElementById('final-results-8').style.display = 'block';
                }
                if (selectedSingers.length >= 16) {
                    document.getElementById('final-results-16').style.display = 'block';
                }
                if (selectedSingers.length >= 32) {
                    document.getElementById('final-results-32').style.display = 'block';
                }
                if (selectedSingers.length >= 64) {
                    document.getElementById('final-results-64').style.display = 'block';
                }
                let nums = [];
                for (let i = 1; i <= 64; i++) {
                    nums.push(`${i}`);
                }
                nums.forEach((value, index) => {
                    document.getElementById(value).innerText = rankings[index];
                    setImage(`${value}-img`, rankings[index]);
                })
                return;
            }
            document.getElementById('round-info').innerText = `ç¬¬ ${roundNumber} è¼ªï¼ˆ ${currentRound.length / 2} / ${vote} ï¼‰`;
            document.getElementById('name1').innerText = "ğŸ¤ " + currentRound[0];
            document.getElementById('name2').innerText = "ğŸ¤ " + currentRound[1];
            document.getElementById('img1').src = `images/${currentRound[0]}.jpg`;
            document.getElementById('img2').src = `images/${currentRound[1]}.jpg`;
            document.getElementById('img1').onerror = function () {
                this.src = "images/default.jpg";
            };
            document.getElementById('img2').onerror = function () {
                this.src = "images/default.jpg";
            };
        }

        function choose(winnerIndex) {
            let winner = currentRound[winnerIndex];
            let loser = currentRound[winnerIndex === 0 ? 1 : 0];
            if (votes === 32) {
                oneThirtySecondFinal.push(winner);
                oneThirtySecondFinal.push(loser);
            }
            if (votes === 16) {
                oneSixteenthFinal.push(winner);
                oneSixteenthFinal.push(loser);
            }
            if (votes === 8) {
                oneEighthFinal.push(winner);
                oneEighthFinal.push(loser);
            }
            if (votes === 4) {
                quarterFinal.push(winner);
                quarterFinal.push(loser);
            }
            if (votes === 2) {
                semiFinalWinners.push(winner);
                semiFinalLosers.push(loser);
            }
            if (votes === 1) {
                rankings[0] = winner;
                rankings[1] = loser;
                if (semiFinalWinners[0] === rankings[0]) {
                    rankings[2] = semiFinalLosers[0];
                    rankings[3] = semiFinalLosers[1];
                }
                else {
                    rankings[2] = semiFinalLosers[1];
                    rankings[3] = semiFinalLosers[0];
                }
                for (let i = 0; i < 8; i += 2) {
                    for (let j = 0; j < 4; j++) {
                        if (rankings[j] === quarterFinal[i]) {
                            rankings[j + 4] = quarterFinal[i + 1];
                        }
                    }
                }
                for (let i = 0; i < 16; i += 2) {
                    for (let j = 0; j < 8; j++) {
                        if (rankings[j] === oneEighthFinal[i]) {
                            rankings[j + 8] = oneEighthFinal[i + 1];
                        }
                    }
                }
                for (let i = 0; i < 32; i += 2) {
                    for (let j = 0; j < 16; j++) {
                        if (rankings[j] === oneSixteenthFinal[i]) {
                            rankings[j + 16] = oneSixteenthFinal[i + 1];
                        }
                    }
                }
                for (let i = 0; i < 64; i += 2) {
                    for (let j = 0; j < 32; j++) {
                        if (rankings[j] === oneThirtySecondFinal[i]) {
                            rankings[j + 32] = oneThirtySecondFinal[i + 1];
                        }
                    }
                }
            }
            currentRound.splice(0, 2);
            nextRound.push(winner);
            if (currentRound.length === 0) {
                currentRound = [...nextRound];
                nextRound = [];
                if (currentRound.length != 2) {
                    shuffle(currentRound);
                }
                roundNumber++;
                votes = currentRound.length / 2;
            }
            updateChoices(votes);
        }
        updateChoices(votes);
    </script>
</body>
</html>
